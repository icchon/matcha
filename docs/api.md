## 📄 Matcha デートウェブサイト API エンドポイント一覧 (ハイブリッド設計)

| 機能カテゴリ | エンドポイント (Path) | HTTP メソッド | データ制御 | API の概要 | マスト要件 |
| :--- | :--- | :--- | :--- | :--- | :--- |
| **ユーザー登録** | `/api/v1/auth/register` | `POST` | REST | ユーザー情報 (メール、ユーザー名、氏名、パスワード) を送信し、新規アカウントを作成します。 | IV.1 |
| **アカウント確認** | `/api/v1/auth/verify/{token}` | `GET` | REST | 確認トークンでアカウントを有効化します。 | IV.1 |
| **ログイン** | `/api/v1/auth/login` | `POST` | REST | ユーザー名とパスワードでログインし、セッションを開始します。 | IV.1 |
| **ログアウト** | `/api/v1/auth/logout` | `POST` | REST | 現在のユーザーセッションを終了します。 | IV.1 |
| **パスワードリセット要求** | `/api/v1/auth/forgot-password` | `POST` | REST | パスワードリセットメールの送信を要求します。 | IV.1 |
| **パスワードリセット実行** | `/api/v1/auth/reset-password` | `POST` | REST | リセットトークンを使用して新しいパスワードを設定します。 | IV.1 |
| --- | --- | --- | --- | --- | --- |
| **プロフィール更新** | `/api/v1/profile` | `PUT` | REST | 自分のプロフィール情報 (氏名、メール、性的指向、タグなど) を更新します。 | IV.2 |
| **写真アップロード** | `/api/v1/profile/pictures` | `POST` | REST | プロフィール写真を含む、最大5枚の写真をアップロードします。 | IV.2 |
| **位置情報更新** | `/api/v1/profile/location` | `PUT` | REST | GPS位置を手動で調整または更新します。 | IV.2 |
| **ビュー履歴取得** | `/api/v1/profile/views` | `GET` | REST | 自分のプロフィールを閲覧したユーザーのリストを取得します。 | IV.2 |
| **いいね履歴取得** | `/api/v1/profile/likes` | `GET` | REST | 自分のプロフィールに「いいね」したユーザーのリストを取得します。 | IV.2 |
| --- | --- | --- | --- | --- | --- |
| **おすすめプロフィール** | `/api/v1/match/suggestions` | `GET` | REST + Paging/Query | 自分の好みやマッチング基準に基づいたおすすめリストを取得します (ソート/フィルタリング/ページネーション対応)。 | IV.3 |
| **アドバンスド検索** | `/api/v1/search` | `GET` | REST + Paging/Query | 年齢、Fame Rating、タグなどの基準で検索を実行します (ソート/フィルタリング/ページネーション対応)。 | IV.4 |
| --- | --- | --- | --- | --- | --- |
| **プロフィール訪問/表示** | `/api/v1/users/{userId}` | `GET` | REST | 他ユーザーのプロフィールを表示し、訪問履歴に記録します。 | IV.5 |
| **「いいね」** | `/api/v1/users/{userId}/like` | `POST` | REST | 他ユーザーに「いいね」を付けます (相互で接続済み). | IV.5 |
| **「いいね」削除** | `/api/v1/users/{userId}/like` | `DELETE` | REST | 以前付けた「いいね」を削除 (アンライク) します。 | IV.5 |
| **ユーザーブロック** | `/api/v1/users/{userId}/block` | `POST` | REST | 特定のユーザーをブロックし、すべての交流を停止します。 | IV.5 |
| **偽アカウント報告**| `/api/v1/users/{userId}/report` | `POST` | REST | 特定のユーザーを「偽アカウント」として報告します。 | IV.5 |
| --- | --- | --- | --- | --- | --- |
| **メッセージ履歴取得** | `/api/v1/chat/{userId}/messages` | `GET` | REST + Paging | 「接続済み」ユーザーとのチャット履歴を取得します。 | IV.6 |
| **メッセージ送信** | `/api/v1/chat/{userId}/messages` | `POST` | REST / WS | メッセージを送信します (主にWebSocketでリアルタイム処理). | IV.6 |
| **通知取得** | `/api/v1/notifications` | `GET` | REST / WS | すべての未読・既読通知のリストを取得します (リアルタイム更新). | IV.7 |
| --- | --- | --- | --- | --- | --- |
| **高度なデータ取得** | `/api/v1/graphql` | `POST` | **GraphQL** | **ダッシュボード**や**プロフィール詳細**など、複数のリソースからの複雑なデータ取得を単一のリクエストで実行し、データ量を最適化します。 | (最適化) |

### 凡例

* **REST:** 標準的なRESTful API。
* **Paging:** ページネーション（データ分割）に対応。
* **Query:** クエリパラメータによるソート、フィルタリングに対応。
* **GraphQL:** 単一エンドポイントで複雑なデータ構造を取得。
* **WS:** WebSocketプロトコルによるリアルタイム通信を併用。